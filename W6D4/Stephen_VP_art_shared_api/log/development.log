  [1m[35m (4.5ms)[0m  [1m[35mCREATE DATABASE "art_shared_api_development" ENCODING = 'unicode'[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE DATABASE "art_shared_api_test" ENCODING = 'unicode'[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5196002916029361345)[0m
  [1m[35m (6.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20220111053715)
  [1m[36mTRANSACTION (22.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (38.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(5196002916029361345)[0m
  [1m[35m (396.6ms)[0m  [1m[35mCREATE DATABASE "art_shared_api_development" ENCODING = 'unicode'[0m
  [1m[35m (185.9ms)[0m  [1m[35mCREATE DATABASE "art_shared_api_test" ENCODING = 'unicode'[0m
  [1m[35m (23.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (45.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5196002916029361345)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20220111053715)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (37.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[36mActiveRecord::SchemaMigration Create (8.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220111053715"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateArtworks (20220111053726)
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "artworks" ("id" bigserial primary key, "title" character varying NOT NULL, "image_url" character varying NOT NULL, "artist_id" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_artworks_on_artist_id_and_title" ON "artworks" ("artist_id", "title")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_artworks_on_artist_id" ON "artworks" ("artist_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220111053726"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateArtworkShares (20220111053741)
  [1m[36mTRANSACTION (20.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "artwork_shares" ("id" bigserial primary key, "viewer_id" integer NOT NULL, "artwork_id" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220111053741"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (25.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-01-11 05:49:47.924200"], ["updated_at", "2022-01-11 05:49:47.924200"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(5196002916029361345)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5196002916029361345)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddIndexToArtworkShares (20220111144905)
  [1m[36mTRANSACTION (40.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_artwork_shares_on_viewer_id_and_artwork_id" ON "artwork_shares" ("viewer_id", "artwork_id")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_artwork_shares_on_viewer_id" ON "artwork_shares" ("viewer_id")[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE INDEX "index_artwork_shares_on_artwork_id" ON "artwork_shares" ("artwork_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (7.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220111144905"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (42.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5196002916029361345)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (3.0ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Steve"], ["created_at", "2022-01-11 15:06:44.159480"], ["updated_at", "2022-01-11 15:06:44.159480"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Julia"], ["created_at", "2022-01-11 15:06:44.168795"], ["updated_at", "2022-01-11 15:06:44.168795"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mArtwork Create (43.3ms)[0m  [1m[32mINSERT INTO "artworks" ("title", "image_url", "artist_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Moon"], ["image_url", "http1"], ["artist_id", 1], ["created_at", "2022-01-11 15:06:44.205162"], ["updated_at", "2022-01-11 15:06:44.205162"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (5.0ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Steve"], ["created_at", "2022-01-11 15:07:05.514851"], ["updated_at", "2022-01-11 15:07:05.514851"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArtwork Load (0.8ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 1]]
  [1m[36mArtworkShare Load (41.5ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."artwork_id" = $1[0m  [["artwork_id", 1]]
  [1m[36mArtwork Destroy (2.4ms)[0m  [1m[31mDELETE FROM "artworks" WHERE "artworks"."id" = $1[0m  [["id", 1]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 2]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mArtwork Load (3.7ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks"[0m
  [1m[36mArtworkShare Load (2.2ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Steve"], ["created_at", "2022-01-11 15:08:26.421520"], ["updated_at", "2022-01-11 15:08:26.421520"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (2.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Julia"], ["created_at", "2022-01-11 15:08:26.435373"], ["updated_at", "2022-01-11 15:08:26.435373"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.4ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.4ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.4ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArtwork Load (0.7ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 4]]
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  [1m[36mTRANSACTION (41.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 5]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks"[0m
  [1m[36mArtworkShare Load (0.9ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Steve"], ["created_at", "2022-01-11 15:10:45.343133"], ["updated_at", "2022-01-11 15:10:45.343133"]]
  [1m[36mTRANSACTION (21.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Julia"], ["created_at", "2022-01-11 15:10:45.370851"], ["updated_at", "2022-01-11 15:10:45.370851"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mArtwork Create (0.5ms)[0m  [1m[32mINSERT INTO "artworks" ("title", "image_url", "artist_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Moon"], ["image_url", "http1"], ["artist_id", 6], ["created_at", "2022-01-11 15:10:45.391395"], ["updated_at", "2022-01-11 15:10:45.391395"]]
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mArtwork Create (0.5ms)[0m  [1m[32mINSERT INTO "artworks" ("title", "image_url", "artist_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Sun"], ["image_url", "http2"], ["artist_id", 7], ["created_at", "2022-01-11 15:10:45.439812"], ["updated_at", "2022-01-11 15:10:45.439812"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mArtwork Load (1.8ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.4ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mArtwork Load (4.4ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks"[0m
  [1m[36mArtwork Load (2.2ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" ORDER BY "artworks"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mArtwork Load (1.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" ORDER BY "artworks"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "artwork_shares" ON "users"."id" = "artwork_shares"."viewer_id" WHERE "artwork_shares"."artwork_id" = $1[0m  [["artwork_id", 2]]
  [1m[36mArtwork Load (2.7ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" ORDER BY "artworks"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mArtworkShare Load (5.3ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."artwork_id" = $1[0m  [["artwork_id", 2]]
  [1m[36mArtwork Load (17.7ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" ORDER BY "artworks"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mArtworkShare Load (6.8ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares"[0m
  [1m[36mArtworkShare Load (0.5ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares"[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArtwork Load (0.8ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 6]]
  [1m[36mArtworkShare Load (0.8ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."artwork_id" = $1[0m  [["artwork_id", 2]]
  [1m[36mArtwork Destroy (45.0ms)[0m  [1m[31mDELETE FROM "artworks" WHERE "artworks"."id" = $1[0m  [["id", 2]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 6]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 7]]
  [1m[36mArtworkShare Load (0.4ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."artwork_id" = $1[0m  [["artwork_id", 3]]
  [1m[36mArtwork Destroy (0.4ms)[0m  [1m[31mDELETE FROM "artworks" WHERE "artworks"."id" = $1[0m  [["id", 3]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 7]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks"[0m
  [1m[36mArtworkShare Load (0.2ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Steve"], ["created_at", "2022-01-11 15:28:08.815132"], ["updated_at", "2022-01-11 15:28:08.815132"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Julia"], ["created_at", "2022-01-11 15:28:08.822502"], ["updated_at", "2022-01-11 15:28:08.822502"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mArtwork Create (0.5ms)[0m  [1m[32mINSERT INTO "artworks" ("title", "image_url", "artist_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Moon"], ["image_url", "http1"], ["artist_id", 8], ["created_at", "2022-01-11 15:28:08.833909"], ["updated_at", "2022-01-11 15:28:08.833909"]]
  [1m[36mTRANSACTION (40.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mArtwork Create (0.5ms)[0m  [1m[32mINSERT INTO "artworks" ("title", "image_url", "artist_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Sun"], ["image_url", "http2"], ["artist_id", 9], ["created_at", "2022-01-11 15:28:08.880914"], ["updated_at", "2022-01-11 15:28:08.880914"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.5ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mArtworkShare Load (4.3ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares"[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArtwork Load (0.8ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 8]]
  [1m[36mArtworkShare Load (0.9ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."artwork_id" = $1[0m  [["artwork_id", 4]]
  [1m[36mArtwork Destroy (0.6ms)[0m  [1m[31mDELETE FROM "artworks" WHERE "artworks"."id" = $1[0m  [["id", 4]]
  [1m[36mUser Destroy (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 8]]
  [1m[36mTRANSACTION (41.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArtwork Load (0.4ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 9]]
  [1m[36mArtworkShare Load (0.4ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."artwork_id" = $1[0m  [["artwork_id", 5]]
  [1m[36mArtwork Destroy (0.5ms)[0m  [1m[31mDELETE FROM "artworks" WHERE "artworks"."id" = $1[0m  [["id", 5]]
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 9]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks"[0m
  [1m[36mArtworkShare Load (0.3ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Steve"], ["created_at", "2022-01-11 15:34:30.476819"], ["updated_at", "2022-01-11 15:34:30.476819"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Julia"], ["created_at", "2022-01-11 15:34:30.482448"], ["updated_at", "2022-01-11 15:34:30.482448"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mArtwork Create (0.5ms)[0m  [1m[32mINSERT INTO "artworks" ("title", "image_url", "artist_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Moon"], ["image_url", "http1"], ["artist_id", 10], ["created_at", "2022-01-11 15:34:30.494689"], ["updated_at", "2022-01-11 15:34:30.494689"]]
  [1m[36mTRANSACTION (40.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mArtwork Create (0.6ms)[0m  [1m[32mINSERT INTO "artworks" ("title", "image_url", "artist_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Sun"], ["image_url", "http2"], ["artist_id", 11], ["created_at", "2022-01-11 15:34:30.543302"], ["updated_at", "2022-01-11 15:34:30.543302"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArtwork Load (0.7ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 10]]
  [1m[36mArtworkShare Load (0.7ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."artwork_id" = $1[0m  [["artwork_id", 6]]
  [1m[36mArtwork Destroy (0.5ms)[0m  [1m[31mDELETE FROM "artworks" WHERE "artworks"."id" = $1[0m  [["id", 6]]
  [1m[36mUser Destroy (41.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 10]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 11]]
  [1m[36mArtworkShare Load (0.3ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."artwork_id" = $1[0m  [["artwork_id", 7]]
  [1m[36mArtwork Destroy (0.3ms)[0m  [1m[31mDELETE FROM "artworks" WHERE "artworks"."id" = $1[0m  [["id", 7]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 11]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks"[0m
  [1m[36mArtworkShare Load (0.2ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Steve"], ["created_at", "2022-01-11 15:39:37.768342"], ["updated_at", "2022-01-11 15:39:37.768342"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Julia"], ["created_at", "2022-01-11 15:39:37.773764"], ["updated_at", "2022-01-11 15:39:37.773764"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mArtwork Create (0.5ms)[0m  [1m[32mINSERT INTO "artworks" ("title", "image_url", "artist_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Moon"], ["image_url", "http1"], ["artist_id", 12], ["created_at", "2022-01-11 15:39:37.784460"], ["updated_at", "2022-01-11 15:39:37.784460"]]
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mArtwork Create (0.6ms)[0m  [1m[32mINSERT INTO "artworks" ("title", "image_url", "artist_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "Sun"], ["image_url", "http2"], ["artist_id", 13], ["created_at", "2022-01-11 15:39:37.833697"], ["updated_at", "2022-01-11 15:39:37.833697"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mArtworkShare Create (1.7ms)[0m  [1m[32mINSERT INTO "artwork_shares" ("viewer_id", "artwork_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["viewer_id", 12], ["artwork_id", 8], ["created_at", "2022-01-11 15:39:37.854485"], ["updated_at", "2022-01-11 15:39:37.854485"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mArtworkShare Create (0.4ms)[0m  [1m[32mINSERT INTO "artwork_shares" ("viewer_id", "artwork_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["viewer_id", 12], ["artwork_id", 9], ["created_at", "2022-01-11 15:39:37.864305"], ["updated_at", "2022-01-11 15:39:37.864305"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mArtworkShare Create (0.4ms)[0m  [1m[32mINSERT INTO "artwork_shares" ("viewer_id", "artwork_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["viewer_id", 13], ["artwork_id", 8], ["created_at", "2022-01-11 15:39:37.873488"], ["updated_at", "2022-01-11 15:39:37.873488"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mArtwork Load (0.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mArtworkShare Create (0.4ms)[0m  [1m[32mINSERT INTO "artwork_shares" ("viewer_id", "artwork_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["viewer_id", 13], ["artwork_id", 9], ["created_at", "2022-01-11 15:39:37.883155"], ["updated_at", "2022-01-11 15:39:37.883155"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mArtworkShare Load (0.7ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares"[0m
  [1m[36mArtwork Load (0.7ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" ORDER BY "artworks"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mArtwork Load (1.2ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" ORDER BY "artworks"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (7.7ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "artwork_shares" ON "users"."id" = "artwork_shares"."viewer_id" WHERE "artwork_shares"."artwork_id" = $1[0m  [["artwork_id", 8]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (10.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mArtwork Load (10.1ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" INNER JOIN "artwork_shares" ON "artworks"."id" = "artwork_shares"."artwork_id" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 12]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mArtwork Load (0.7ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 12]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/users" for ::1 at 2022-01-11 23:01:24 +0700
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m

ActionController::RoutingError - uninitialized constant UsersController:

Started GET "/users" for ::1 at 2022-01-11 23:04:40 +0700
Processing by UsersController#index as */*
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 78ms (Views: 15.9ms | ActiveRecord: 18.2ms | Allocations: 9678)


Started GET "/users" for ::1 at 2022-01-11 23:04:51 +0700

SyntaxError - syntax error, unexpected tIVAR, expecting keyword_end
        render :json @users
                     ^~~~~~:
  app/controllers/users_controller.rb:4:in `'

Started POST "/users/2?user[username]=phamv21" for ::1 at 2022-01-11 23:13:11 +0700
  
ActionController::RoutingError (No route matches [POST] "/users/2"):
  
Started POST "/users/new?user[email]=new_email@google.com" for ::1 at 2022-01-11 23:13:51 +0700
  
ActionController::RoutingError (No route matches [POST] "/users/new"):
  
Started POST "/users/?user[email]=new_email@google.com" for ::1 at 2022-01-11 23:14:16 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"email"=>"new_email@google.com"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 2ms (Allocations: 937)



ActionController::InvalidAuthenticityToken - ActionController::InvalidAuthenticityToken:

Started POST "/users/?user[username]=phamv21" for ::1 at 2022-01-11 23:14:49 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"phamv21"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (Allocations: 973)



ActionController::InvalidAuthenticityToken - ActionController::InvalidAuthenticityToken:

Started POST "/users/?user[username]=phamv21" for ::1 at 2022-01-11 23:15:35 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"phamv21"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 2ms (Allocations: 925)



ActionController::InvalidAuthenticityToken - ActionController::InvalidAuthenticityToken:

Started GET "/users/" for ::1 at 2022-01-11 23:15:50 +0700
Processing by UsersController#index as */*
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 246ms (Views: 233.4ms | ActiveRecord: 144.2ms | Allocations: 10053)


Started POST "/users/?user[username]=phamv21" for ::1 at 2022-01-11 23:17:40 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"phamv21"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 16ms (ActiveRecord: 0.0ms | Allocations: 973)



ActionController::InvalidAuthenticityToken - ActionController::InvalidAuthenticityToken:

Started POST "/users/?user[username]=phamv21" for ::1 at 2022-01-11 23:20:27 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"phamv21"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 3ms (ActiveRecord: 0.0ms | Allocations: 925)



ActionController::InvalidAuthenticityToken - ActionController::InvalidAuthenticityToken:

Started POST "/users/?user[username]=phamv21" for ::1 at 2022-01-11 23:21:17 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"phamv21"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 3ms (ActiveRecord: 0.0ms | Allocations: 925)



ActionController::InvalidAuthenticityToken - ActionController::InvalidAuthenticityToken:

Started POST "/users/?user[username]=phamv21" for ::1 at 2022-01-11 23:22:36 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"phamv21"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 12ms (ActiveRecord: 0.0ms | Allocations: 973)



ActionController::InvalidAuthenticityToken - ActionController::InvalidAuthenticityToken:

Started POST "/users/?user[username]=phamv21" for ::1 at 2022-01-11 23:22:58 +0700
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"phamv21"}}
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "phamv21"], ["created_at", "2022-01-11 16:22:58.919027"], ["updated_at", "2022-01-11 16:22:58.919027"]]
  ↳ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:9:in `create'
Completed 200 OK in 204ms (Views: 0.6ms | ActiveRecord: 16.6ms | Allocations: 10902)


Started GET "/users" for ::1 at 2022-01-11 23:26:02 +0700
Processing by UsersController#index as */*
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 39ms (Views: 11.8ms | ActiveRecord: 19.8ms | Allocations: 6701)


Started GET "/users/14" for ::1 at 2022-01-11 23:26:10 +0700
Processing by UsersController#show as */*
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:8:in `show'
Completed 200 OK in 36ms (Views: 0.5ms | ActiveRecord: 5.9ms | Allocations: 1925)


Started PATCH "/users/14?user[username]=love" for ::1 at 2022-01-11 23:29:35 +0700
Processing by UsersController#update as */*
  Parameters: {"user"=>{"username"=>"love"}, "id"=>"14"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `update'
  [1m[36mTRANSACTION (8.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:14:in `update'
  [1m[36mUser Update (3.4ms)[0m  [1m[33mUPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["username", "love"], ["updated_at", "2022-01-11 16:29:36.344358"], ["id", 14]]
  ↳ app/controllers/users_controller.rb:14:in `update'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:14:in `update'
Completed 200 OK in 131ms (Views: 0.6ms | ActiveRecord: 70.4ms | Allocations: 8743)


Started GET "/users" for ::1 at 2022-01-11 23:29:49 +0700
Processing by UsersController#index as */*
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 41ms (Views: 34.2ms | ActiveRecord: 1.9ms | Allocations: 1361)


Started PATCH "/users/14?user[username]=Steve" for ::1 at 2022-01-11 23:29:59 +0700
Processing by UsersController#update as */*
  Parameters: {"user"=>{"username"=>"Steve"}, "id"=>"14"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:13:in `update'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:14:in `update'
  [1m[36mUser Update (49.3ms)[0m  [1m[33mUPDATE "users" SET "username" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["username", "Steve"], ["updated_at", "2022-01-11 16:29:59.608181"], ["id", 14]]
  ↳ app/controllers/users_controller.rb:14:in `update'
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users_controller.rb:14:in `update'
Completed 500 Internal Server Error in 130ms (ActiveRecord: 63.8ms | Allocations: 5753)



ActiveRecord::RecordNotUnique - PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_username"
DETAIL:  Key (username)=(Steve) already exists.:
  app/controllers/users_controller.rb:14:in `update'

Started DELETE "/users/14" for ::1 at 2022-01-11 23:37:01 +0700
Processing by UsersController#destroy as */*
  Parameters: {"id"=>"14"}
  [1m[36mUser Load (32.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:31:in `destroy'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:32:in `destroy'
  [1m[36mArtwork Load (2.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 14]]
  ↳ app/controllers/users_controller.rb:32:in `destroy'
  [1m[36mUser Destroy (2.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 14]]
  ↳ app/controllers/users_controller.rb:32:in `destroy'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:32:in `destroy'
Completed 200 OK in 391ms (Views: 0.6ms | ActiveRecord: 191.0ms | Allocations: 20812)


Started GET "/users" for ::1 at 2022-01-11 23:37:06 +0700
Processing by UsersController#index as */*
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 15ms (Views: 5.8ms | ActiveRecord: 1.1ms | Allocations: 1250)


Started DELETE "/users/15" for ::1 at 2022-01-11 23:37:12 +0700
Processing by UsersController#destroy as */*
  Parameters: {"id"=>"15"}
  [1m[36mUser Load (20.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:31:in `destroy'
Completed 404 Not Found in 62ms (ActiveRecord: 20.4ms | Allocations: 1762)



ActiveRecord::RecordNotFound - Couldn't find User with 'id'=15:
  app/controllers/users_controller.rb:31:in `destroy'

Started DELETE "/users/15/artworks/1" for ::1 at 2022-01-12 00:51:57 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/users/15/artworks/1"):
  
Started DELETE "/users/14/artworks/1" for ::1 at 2022-01-12 00:52:25 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/users/14/artworks/1"):
  
Started POST "/users/13/artworks/1" for ::1 at 2022-01-12 00:52:40 +0700
  
ActionController::RoutingError (No route matches [POST] "/users/13/artworks/1"):
  
Started POST "/users/13/artworks" for ::1 at 2022-01-12 00:53:13 +0700
  
ActionController::RoutingError (No route matches [POST] "/users/13/artworks"):
  
Started GET "/users/13/artworks" for ::1 at 2022-01-12 00:53:22 +0700

AbstractController::ActionNotFound - The action 'index' could not be found for ArtworksController:

Started GET "/users/13/" for ::1 at 2022-01-12 00:53:54 +0700
Processing by UsersController#show as */*
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (46.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:8:in `show'
Completed 200 OK in 407ms (Views: 3.0ms | ActiveRecord: 256.5ms | Allocations: 8929)


Started GET "/users" for ::1 at 2022-01-12 00:54:21 +0700
Processing by UsersController#index as */*
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 1.1ms | Allocations: 1250)


  [1m[36mArtwork Load (3.0ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks"[0m
Started POST "/artworkshares?artwork_shared[viewer_id]=12&artwork_shared[artwork_id]=8" for ::1 at 2022-01-12 01:10:11 +0700
  
ActionController::RoutingError (No route matches [POST] "/artworkshares"):
  
Started POST "/artwork_shares?artwork_shared[viewer_id]=12&artwork_shared[artwork_id]=8" for ::1 at 2022-01-12 01:11:27 +0700
  
ActionController::RoutingError (No route matches [POST] "/artwork_shares"):
  
Started POST "/artwork_shares?artwork_shared[viewer_id]=12&artworks_shared[artwork_id]=8" for ::1 at 2022-01-12 01:12:10 +0700

ActionController::RoutingError - uninitialized constant ArtworkSharesController:

Started POST "/artwork_shares?artwork_shared[viewer_id]=12&artwork_shared[artwork_id]=8" for ::1 at 2022-01-12 01:13:25 +0700

ActionController::RoutingError - uninitialized constant ArtworkSharesController:

Started POST "/artwork_shares?artwork_shared[viewer_id]=12&artwork_shared[artwork_id]=8" for ::1 at 2022-01-12 01:15:30 +0700
Processing by ArtworkSharesController#create as */*
  Parameters: {"artwork_shared"=>{"viewer_id"=>"12", "artwork_id"=>"8"}}
Completed 500 Internal Server Error in 179ms (ActiveRecord: 91.3ms | Allocations: 8593)



NoMethodError - undefined method `save' for nil:NilClass:
  app/controllers/artwork_shares_controller.rb:4:in `create'

Started POST "/artwork_shares?artwork_shared[viewer_id]=12&artwork_shared[artwork_id]=8" for ::1 at 2022-01-12 01:16:49 +0700
Processing by ArtworkSharesController#create as */*
  Parameters: {"artwork_shared"=>{"viewer_id"=>"12", "artwork_id"=>"8"}}
Completed 500 Internal Server Error in 141ms (ActiveRecord: 54.7ms | Allocations: 5398)



NoMethodError - undefined method `save' for nil:NilClass:
  app/controllers/artwork_shares_controller.rb:4:in `create'

Started POST "/artwork_shares?artwork_shared[viewer_id]=12&artwork_shared[artwork_id]=8" for ::1 at 2022-01-12 01:17:11 +0700
Processing by ArtworkSharesController#create as */*
  Parameters: {"artwork_shared"=>{"viewer_id"=>"12", "artwork_id"=>"8"}}
  [1m[36mTRANSACTION (213.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mUser Load (16.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtwork Load (5.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtworkShare Create (133.8ms)[0m  [1m[32mINSERT INTO "artwork_shares" ("viewer_id", "artwork_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["viewer_id", 12], ["artwork_id", 8], ["created_at", "2022-01-11 18:17:12.884456"], ["updated_at", "2022-01-11 18:17:12.884456"]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mTRANSACTION (84.6ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
Completed 500 Internal Server Error in 1061ms (ActiveRecord: 827.6ms | Allocations: 26308)



ActiveRecord::RecordNotUnique - PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_artwork_shares_on_viewer_id_and_artwork_id"
DETAIL:  Key (viewer_id, artwork_id)=(12, 8) already exists.:
  app/controllers/artwork_shares_controller.rb:4:in `create'

Started POST "/users?user[usernam]=King" for ::1 at 2022-01-12 01:17:50 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"usernam"=>"King"}}
[31mUnpermitted parameter: :usernam[0m
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 5465)


Started POST "/users?user[username]=King" for ::1 at 2022-01-12 01:17:56 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"King"}}
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:23:in `create'
  [1m[36mUser Create (6.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "King"], ["created_at", "2022-01-11 18:17:56.816604"], ["updated_at", "2022-01-11 18:17:56.816604"]]
  ↳ app/controllers/users_controller.rb:23:in `create'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:23:in `create'
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 12.5ms | Allocations: 2710)


Started POST "/artwork_shares?artwork_shared[viewer_id]=15&artwork_shared[artwork_id]=8" for ::1 at 2022-01-12 01:18:06 +0700
Processing by ArtworkSharesController#create as */*
  Parameters: {"artwork_shared"=>{"viewer_id"=>"15", "artwork_id"=>"8"}}
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mUser Load (11.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtwork Load (2.2ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtworkShare Create (10.8ms)[0m  [1m[32mINSERT INTO "artwork_shares" ("viewer_id", "artwork_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["viewer_id", 15], ["artwork_id", 8], ["created_at", "2022-01-11 18:18:06.531303"], ["updated_at", "2022-01-11 18:18:06.531303"]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mTRANSACTION (45.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
Completed 200 OK in 101ms (Views: 0.5ms | ActiveRecord: 72.8ms | Allocations: 4617)


Started POST "/users?user[username]=Unstopable" for ::1 at 2022-01-12 01:18:21 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"username"=>"Unstopable"}}
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users_controller.rb:23:in `create'
  [1m[36mUser Create (5.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["username", "Unstopable"], ["created_at", "2022-01-11 18:18:21.369129"], ["updated_at", "2022-01-11 18:18:21.369129"]]
  ↳ app/controllers/users_controller.rb:23:in `create'
  [1m[36mTRANSACTION (7.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users_controller.rb:23:in `create'
Completed 200 OK in 54ms (Views: 0.4ms | ActiveRecord: 20.7ms | Allocations: 2641)


Started POST "/artwork_shares?artwork_shared[viewer_id]=16&artwork_shared[artwork_id]=8" for ::1 at 2022-01-12 01:18:26 +0700
Processing by ArtworkSharesController#create as */*
  Parameters: {"artwork_shared"=>{"viewer_id"=>"16", "artwork_id"=>"8"}}
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mUser Load (10.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtwork Load (6.1ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtworkShare Create (51.2ms)[0m  [1m[32mINSERT INTO "artwork_shares" ("viewer_id", "artwork_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["viewer_id", 16], ["artwork_id", 8], ["created_at", "2022-01-11 18:18:26.863120"], ["updated_at", "2022-01-11 18:18:26.863120"]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mTRANSACTION (5.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
Completed 200 OK in 128ms (Views: 0.4ms | ActiveRecord: 81.1ms | Allocations: 4613)


Started DELETE "/artwork_shares/1" for ::1 at 2022-01-12 01:18:53 +0700
Processing by ArtworkSharesController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mArtworkShare Load (1.2ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:13:in `destroy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/artwork_shares_controller.rb:14:in `destroy'
  [1m[36mArtworkShare Destroy (44.8ms)[0m  [1m[31mDELETE FROM "artwork_shares" WHERE "artwork_shares"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:14:in `destroy'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/artwork_shares_controller.rb:14:in `destroy'
Completed 200 OK in 57ms (Views: 0.4ms | ActiveRecord: 48.7ms | Allocations: 2925)


Started POST "/users/13?action=my" for ::1 at 2022-01-12 01:24:08 +0700
  
ActionController::RoutingError (No route matches [POST] "/users/13"):
  
Started GET "/users/13?action=my" for ::1 at 2022-01-12 01:24:22 +0700
Processing by UsersController#show as */*
  Parameters: {"id"=>"13"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/users_controller.rb:8:in `show'
Completed 200 OK in 136ms (Views: 0.6ms | ActiveRecord: 43.0ms | Allocations: 8954)


Started GET "/users/13/artworks?action=my" for ::1 at 2022-01-12 01:24:40 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"13"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 1082)



ActiveRecord::RecordNotFound - Couldn't find User without an ID:
  app/controllers/artworks_controller.rb:6:in `index'

Started GET "/users/13/artworks?action=my" for ::1 at 2022-01-12 01:25:22 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"13"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
Completed 200 OK in 48ms (Views: 0.2ms | ActiveRecord: 21.2ms | Allocations: 8203)


Started GET "/users/14/artworks?action=my" for ::1 at 2022-01-12 01:25:26 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"14"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
Completed 404 Not Found in 8ms (ActiveRecord: 1.5ms | Allocations: 1747)



ActiveRecord::RecordNotFound - Couldn't find User with 'id'=14:
  app/controllers/artworks_controller.rb:6:in `index'

Started GET "/users/15/artworks?action=my" for ::1 at 2022-01-12 01:25:32 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"15"}
  [1m[36mUser Load (14.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
Completed 200 OK in 46ms (Views: 0.4ms | ActiveRecord: 14.8ms | Allocations: 936)


Started GET "/users/16/artworks?action=my" for ::1 at 2022-01-12 01:25:37 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"16"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
Completed 200 OK in 18ms (Views: 0.4ms | ActiveRecord: 3.1ms | Allocations: 936)


Started GET "/users/16/artworks" for ::1 at 2022-01-12 01:25:43 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"16"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 1.8ms | Allocations: 936)


Started GET "/users/13/artworks" for ::1 at 2022-01-12 01:25:49 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"13"}
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 4.1ms | Allocations: 936)


Started GET "/users/12/artworks" for ::1 at 2022-01-12 01:25:53 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"12"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
Completed 200 OK in 16ms (Views: 0.2ms | ActiveRecord: 1.5ms | Allocations: 936)


Started GET "/users/" for ::1 at 2022-01-12 01:25:58 +0700
Processing by UsersController#index as */*
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/users_controller.rb:4:in `index'
Completed 200 OK in 23ms (Views: 20.8ms | ActiveRecord: 1.1ms | Allocations: 1447)


Started GET "/users/12/artworks" for ::1 at 2022-01-12 01:26:08 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"12"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 936)


  [1m[36mUser Load (44.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mArtwork Load (0.6ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 12]]
Started GET "/users/12/artworks" for ::1 at 2022-01-12 01:27:20 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"12"}
  [1m[36mUser Load (9.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
  [1m[36mArtworkShare Load (11.6ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/controllers/artworks_controller.rb:9:in `index'
Completed 200 OK in 224ms (Views: 45.1ms | ActiveRecord: 111.2ms | Allocations: 12329)


Started GET "/users/12/artworks?action=my" for ::1 at 2022-01-12 01:27:31 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"12"}
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
  [1m[36mArtworkShare Load (3.9ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/controllers/artworks_controller.rb:9:in `index'
Completed 200 OK in 42ms (Views: 7.4ms | ActiveRecord: 6.5ms | Allocations: 1839)


Started GET "/users/12/artworks" for ::1 at 2022-01-12 01:27:37 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"12"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
  [1m[36mArtworkShare Load (7.6ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/controllers/artworks_controller.rb:9:in `index'
Completed 200 OK in 17ms (Views: 4.2ms | ActiveRecord: 8.6ms | Allocations: 1839)


Started GET "/users/12/artworks?action=my" for ::1 at 2022-01-12 01:27:52 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"12"}
  [1m[36mUser Load (7.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
  [1m[36mArtworkShare Load (14.7ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/controllers/artworks_controller.rb:9:in `index'
Completed 200 OK in 49ms (Views: 2.7ms | ActiveRecord: 21.8ms | Allocations: 1840)


Started GET "/users/12/artworks?action=1" for ::1 at 2022-01-12 01:28:42 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"12"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
  [1m[36mArtworkShare Load (1.1ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/controllers/artworks_controller.rb:9:in `index'
Completed 200 OK in 67ms (Views: 9.2ms | ActiveRecord: 26.8ms | Allocations: 12288)


Started GET "/users/12/artworks?action=2" for ::1 at 2022-01-12 01:28:46 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"12"}
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
  [1m[36mArtworkShare Load (40.1ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 12]]
  ↳ app/controllers/artworks_controller.rb:9:in `index'
Completed 200 OK in 54ms (Views: 3.9ms | ActiveRecord: 42.9ms | Allocations: 1838)


Started GET "/users/13/artworks?action=2" for ::1 at 2022-01-12 01:28:51 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"13"}
  [1m[36mUser Load (9.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
  [1m[36mArtworkShare Load (2.2ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/controllers/artworks_controller.rb:9:in `index'
Completed 200 OK in 30ms (Views: 6.3ms | ActiveRecord: 11.2ms | Allocations: 1932)


Started GET "/users/13/artworks?action=1" for ::1 at 2022-01-12 01:28:56 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"13"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
  [1m[36mArtworkShare Load (1.5ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/controllers/artworks_controller.rb:9:in `index'
Completed 200 OK in 9ms (Views: 3.4ms | ActiveRecord: 2.5ms | Allocations: 1932)


Started GET "/users/13/artworks?action=2" for ::1 at 2022-01-12 01:29:01 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"13"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
  [1m[36mArtworkShare Load (0.9ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/controllers/artworks_controller.rb:9:in `index'
Completed 200 OK in 13ms (Views: 2.4ms | ActiveRecord: 1.9ms | Allocations: 1932)


Started GET "/users/14/artworks?action=1" for ::1 at 2022-01-12 01:29:10 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"14"}
  [1m[36mUser Load (36.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
Completed 404 Not Found in 59ms (ActiveRecord: 36.4ms | Allocations: 1746)



ActiveRecord::RecordNotFound - Couldn't find User with 'id'=14:
  app/controllers/artworks_controller.rb:6:in `index'

Started GET "/users/15/artworks?action=1" for ::1 at 2022-01-12 01:29:16 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"15"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
  [1m[36mArtworkShare Load (8.2ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 15]]
  ↳ app/controllers/artworks_controller.rb:9:in `index'
Completed 200 OK in 19ms (Views: 3.4ms | ActiveRecord: 10.1ms | Allocations: 1838)


Started GET "/users/15/artworks?action=2" for ::1 at 2022-01-12 01:29:20 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"15"}
  [1m[36mUser Load (31.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:6:in `index'
  [1m[36mArtworkShare Load (18.7ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 15]]
  ↳ app/controllers/artworks_controller.rb:9:in `index'
Completed 200 OK in 86ms (Views: 3.3ms | ActiveRecord: 50.5ms | Allocations: 1839)


Started GET "/users/15/artworks?action=2" for ::1 at 2022-01-13 00:22:48 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"15"}
  Rendering text template
  Rendered text template (Duration: 1.5ms | Allocations: 29)
Completed 500 Internal Server Error in 26ms (Views: 16.3ms | Allocations: 1651)



AbstractController::DoubleRenderError - Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".:
  app/controllers/artworks_controller.rb:11:in `index'

Started GET "/users/15/artworks?action=2" for ::1 at 2022-01-13 00:23:04 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"15"}
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 28)
Completed 200 OK in 2ms (Views: 1.1ms | Allocations: 471)


Started GET "/users/15/artworks?action=1" for ::1 at 2022-01-13 00:23:10 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"15"}
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 28)
Completed 200 OK in 1ms (Views: 0.8ms | Allocations: 316)


Started GET "/users/15/artworks?action=1" for ::1 at 2022-01-13 00:23:12 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"15"}
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 28)
Completed 200 OK in 1ms (Views: 0.6ms | Allocations: 316)


Started GET "/users/15/artworks?action=1" for ::1 at 2022-01-13 00:23:28 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"15"}
  Rendering text template
  Rendered text template (Duration: 0.2ms | Allocations: 28)
Completed 200 OK in 5ms (Views: 4.0ms | Allocations: 472)


Started GET "/users/15/artworks?action=2" for ::1 at 2022-01-13 00:23:32 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"15"}
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 28)
Completed 200 OK in 1ms (Views: 0.5ms | Allocations: 317)


Started GET "/users/15/artworks?action=1" for ::1 at 2022-01-13 00:23:34 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"15"}
  Rendering text template
  Rendered text template (Duration: 1.3ms | Allocations: 28)
Completed 200 OK in 4ms (Views: 2.9ms | Allocations: 317)


Started GET "/users/15/artworks?action=1" for ::1 at 2022-01-13 00:23:53 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"15"}
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 28)
Completed 200 OK in 12ms (Views: 4.5ms | Allocations: 471)


Started GET "/users/15/artworks?action=1" for ::1 at 2022-01-13 00:24:54 +0700
Processing by ArtworksController#index as */*
  Parameters: {"user_id"=>"15"}
Completed 200 OK in 19ms (Views: 17.2ms | Allocations: 259)


Started GET "/users/15/artworks?section=1" for ::1 at 2022-01-13 00:25:45 +0700
Processing by ArtworksController#index as */*
  Parameters: {"section"=>"1", "user_id"=>"15"}
  Rendering text template
  Rendered text template (Duration: 0.3ms | Allocations: 28)
Completed 200 OK in 4ms (Views: 2.6ms | Allocations: 471)


Started GET "/users/15/artworks?section=1" for ::1 at 2022-01-13 00:26:06 +0700
Processing by ArtworksController#index as */*
  Parameters: {"section"=>"1", "user_id"=>"15"}
Completed 200 OK in 6ms (Views: 2.7ms | Allocations: 273)


Started GET "/users/15/artworks?section=1" for ::1 at 2022-01-13 00:26:19 +0700
Processing by ArtworksController#index as */*
  Parameters: {"section"=>"1", "user_id"=>"15"}
  Rendering text template
  Rendered text template (Duration: 0.2ms | Allocations: 28)
Completed 200 OK in 7ms (Views: 5.2ms | Allocations: 472)


Started GET "/users/15/artworks?section=1" for ::1 at 2022-01-13 00:26:39 +0700
Processing by ArtworksController#index as */*
  Parameters: {"section"=>"1", "user_id"=>"15"}
  [1m[36mUser Load (34.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:5:in `index'
  [1m[36mArtwork Load (1.5ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 15]]
  ↳ app/controllers/artworks_controller.rb:11:in `index'
Completed 200 OK in 640ms (Views: 4.7ms | ActiveRecord: 413.5ms | Allocations: 13735)


Started GET "/users/15/artworks?section=2" for ::1 at 2022-01-13 00:26:43 +0700
Processing by ArtworksController#index as */*
  Parameters: {"section"=>"2", "user_id"=>"15"}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:8:in `index'
  [1m[36mArtworkShare Load (2.4ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 15]]
  ↳ app/controllers/artworks_controller.rb:11:in `index'
Completed 200 OK in 51ms (Views: 31.5ms | ActiveRecord: 5.8ms | Allocations: 6383)


Started GET "/users/13/artworks?section=1" for ::1 at 2022-01-13 00:27:03 +0700
Processing by ArtworksController#index as */*
  Parameters: {"section"=>"1", "user_id"=>"13"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:5:in `index'
  [1m[36mArtwork Load (8.4ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 13]]
  ↳ app/controllers/artworks_controller.rb:11:in `index'
Completed 200 OK in 118ms (Views: 31.5ms | ActiveRecord: 77.2ms | Allocations: 4984)


Started GET "/users/13/artworks?section=2" for ::1 at 2022-01-13 00:27:07 +0700
Processing by ArtworksController#index as */*
  Parameters: {"section"=>"2", "user_id"=>"13"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:8:in `index'
  [1m[36mArtworkShare Load (7.6ms)[0m  [1m[34mSELECT "artwork_shares".* FROM "artwork_shares" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/controllers/artworks_controller.rb:11:in `index'
Completed 200 OK in 26ms (Views: 3.1ms | ActiveRecord: 8.7ms | Allocations: 1933)


Started GET "/users/13/artworks?section=2" for ::1 at 2022-01-13 00:27:53 +0700
Processing by ArtworksController#index as */*
  Parameters: {"section"=>"2", "user_id"=>"13"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:8:in `index'
  [1m[36mArtwork Load (56.6ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" INNER JOIN "artwork_shares" ON "artworks"."id" = "artwork_shares"."artwork_id" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/controllers/artworks_controller.rb:11:in `index'
Completed 200 OK in 279ms (Views: 53.3ms | ActiveRecord: 161.7ms | Allocations: 21060)


Started DELETE "/artwork_shares/" for ::1 at 2022-01-13 00:42:54 +0700
  
ActionController::RoutingError (No route matches [DELETE] "/artwork_shares"):
  
Started POST "/artwork_shares/?shared_art[viewer_id]=1&shared_art[artwork_id]=2" for ::1 at 2022-01-13 00:43:44 +0700
Processing by ArtworkSharesController#create as */*
  Parameters: {"shared_art"=>{"viewer_id"=>"1", "artwork_id"=>"2"}}
Completed 400 Bad Request in 2ms (Allocations: 1025)



ActionController::ParameterMissing - param is missing or the value is empty: artwork_shared:
  app/controllers/artwork_shares_controller.rb:24:in `artwork_shared_params'
  app/controllers/artwork_shares_controller.rb:3:in `create'

Started POST "/artwork_shares/?artwork_shared[viewer_id]=1&artwork_shared[artwork_id]=2" for ::1 at 2022-01-13 00:44:26 +0700
Processing by ArtworkSharesController#create as */*
  Parameters: {"artwork_shared"=>{"viewer_id"=>"1", "artwork_id"=>"2"}}
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mUser Load (46.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtwork Load (4.1ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
Completed 422 Unprocessable Entity in 470ms (Views: 0.9ms | ActiveRecord: 236.4ms | Allocations: 15251)


Started POST "/artwork_shares/?artwork_shared[viewer_id]=13&artwork_shared[artwork_id]=8" for ::1 at 2022-01-13 00:44:42 +0700
Processing by ArtworkSharesController#create as */*
  Parameters: {"artwork_shared"=>{"viewer_id"=>"13", "artwork_id"=>"8"}}
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mUser Load (44.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtwork Load (1.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtworkShare Create (111.4ms)[0m  [1m[32mINSERT INTO "artwork_shares" ("viewer_id", "artwork_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["viewer_id", 13], ["artwork_id", 8], ["created_at", "2022-01-12 17:44:42.872397"], ["updated_at", "2022-01-12 17:44:42.872397"]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
Completed 500 Internal Server Error in 182ms (ActiveRecord: 159.6ms | Allocations: 7030)



ActiveRecord::RecordNotUnique - PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_artwork_shares_on_viewer_id_and_artwork_id"
DETAIL:  Key (viewer_id, artwork_id)=(13, 8) already exists.:
  app/controllers/artwork_shares_controller.rb:4:in `create'

Started POST "/artwork_shares/?artwork_shared[viewer_id]=13&artwork_shared[artwork_id]=9" for ::1 at 2022-01-13 00:44:50 +0700
Processing by ArtworkSharesController#create as */*
  Parameters: {"artwork_shared"=>{"viewer_id"=>"13", "artwork_id"=>"9"}}
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mUser Load (12.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtwork Load (63.3ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtworkShare Create (46.1ms)[0m  [1m[32mINSERT INTO "artwork_shares" ("viewer_id", "artwork_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["viewer_id", 13], ["artwork_id", 9], ["created_at", "2022-01-12 17:44:51.037620"], ["updated_at", "2022-01-12 17:44:51.037620"]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
Completed 500 Internal Server Error in 170ms (ActiveRecord: 125.5ms | Allocations: 7000)



ActiveRecord::RecordNotUnique - PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_artwork_shares_on_viewer_id_and_artwork_id"
DETAIL:  Key (viewer_id, artwork_id)=(13, 9) already exists.:
  app/controllers/artwork_shares_controller.rb:4:in `create'

Started POST "/artwork_shares/?artwork_shared[viewer_id]=15&artwork_shared[artwork_id]=9" for ::1 at 2022-01-13 00:44:57 +0700
Processing by ArtworkSharesController#create as */*
  Parameters: {"artwork_shared"=>{"viewer_id"=>"15", "artwork_id"=>"9"}}
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtwork Load (5.0ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mArtworkShare Create (38.6ms)[0m  [1m[32mINSERT INTO "artwork_shares" ("viewer_id", "artwork_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["viewer_id", 15], ["artwork_id", 9], ["created_at", "2022-01-12 17:44:57.607793"], ["updated_at", "2022-01-12 17:44:57.607793"]]
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/artwork_shares_controller.rb:4:in `create'
Completed 200 OK in 95ms (Views: 5.7ms | ActiveRecord: 56.6ms | Allocations: 4614)


Started GET "/users/13/artworks?section=owned" for ::1 at 2022-01-13 00:45:58 +0700
Processing by ArtworksController#index as */*
  Parameters: {"section"=>"owned", "user_id"=>"13"}
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:5:in `index'
  [1m[36mArtwork Load (1.1ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 13]]
  ↳ app/controllers/artworks_controller.rb:11:in `index'
Completed 200 OK in 176ms (Views: 13.2ms | ActiveRecord: 127.7ms | Allocations: 14299)


Started GET "/users/13/artworks?section=" for ::1 at 2022-01-13 00:46:04 +0700
Processing by ArtworksController#index as */*
  Parameters: {"section"=>"", "user_id"=>"13"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:8:in `index'
  [1m[36mArtwork Load (6.0ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" INNER JOIN "artwork_shares" ON "artworks"."id" = "artwork_shares"."artwork_id" WHERE "artwork_shares"."viewer_id" = $1[0m  [["viewer_id", 13]]
  ↳ app/controllers/artworks_controller.rb:11:in `index'
Completed 200 OK in 45ms (Views: 9.8ms | ActiveRecord: 20.0ms | Allocations: 4880)


Started GET "/users/13/artworks?section=owned" for ::1 at 2022-01-13 00:46:14 +0700
Processing by ArtworksController#index as */*
  Parameters: {"section"=>"owned", "user_id"=>"13"}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/artworks_controller.rb:5:in `index'
  [1m[36mArtwork Load (5.0ms)[0m  [1m[34mSELECT "artworks".* FROM "artworks" WHERE "artworks"."artist_id" = $1[0m  [["artist_id", 13]]
  ↳ app/controllers/artworks_controller.rb:11:in `index'
Completed 200 OK in 20ms (Views: 4.3ms | ActiveRecord: 7.7ms | Allocations: 1865)


